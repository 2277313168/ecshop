<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>SHOP 管理中心 - 添加分类 </title>
  <meta name="robots" content="noindex, nofollow">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="{$Think.const.ADMIN_PUBLIC}/styles/general.css" rel="stylesheet" type="text/css"/>
  <link href="{$Think.const.ADMIN_PUBLIC}/styles/main.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" charset="utf-8" src="{$Think.const.ADMIN_PUBLIC}/js/jquery-1.11.2.min.js"></script>
</head>
<body>

<h1>
  <span class="action-span"><a href="__MODULE__/Category/catIndex">权限列表</a></span>
  <span class="action-span1"><a href="index.php?act=main">SHOP 管理中心</a> </span><span id="search_id"
                                                                                     class="action-span1"> - 添加分类 </span>
  <div style="clear:both"></div>
</h1>
<!-- start add new category form -->

<div class="main-div">
  <form action="__MODULE__/Admin/adminEdit" method="post" name="theForm" enctype="multipart/form-data"
        onsubmit="return validate()">
    <input type="hidden" name="id" value="{$admin.admin_id}">
    <table width="100%" id="general-table">
      <tbody>
      <tr>
        <td class="label">管理员名称:</td>
        <td><input type="text" name="admin_name" maxlength="20" value="{$admin.admin_name}" size="27"> <font color="red">*</font>
        </td>
      </tr>

      <tr>
        <td  class="label">密码：</td>
        <td><input type="text" name="psw" value=""/> </td>
      </tr>

      <tr>
        <td class="label">确认密码：</td>
        <td><input type="text" name="repsw" value=""/> </td>
      </tr>


      <tr>
        <td class="label">角色列表:</td>
        <td>
          <volist name="roleList" id="vo">
            <input  type="checkbox"  name="roleIds[]"  value="{$vo.role_id}"
            <if condition="strpos(','.$admin['role_ids'].',' , ','. $vo['role_id'] .',') !==FALSE" >checked="checked"</if> />{$vo['role_name']}<br/>
          </volist>
        </td>
      </tr>

      <if condition="$admin['admin_id'] gt 1">
      <tr>
        <td class="label">是否启用：</td>
        <td>
          <input type="radio" name="is_use" value="1"
                 <if condition="$admin['is_use'] == 1">   checked="checked" </if>/>启用
          <input type="radio" name="is_use" value="0"
          <if condition="$admin['is_use'] == 0">checked="checked"</if> />禁用
        </td>
      </tr>
      </if>


      </tbody>
    </table>
    <div class="button-div">
      <input type="submit" value=" 确定 ">
      <input type="reset" value=" 重置 ">
    </div>
    <!--<input type="hidden" name="id" value="">-->
    <!--<input type="hidden" name="old_cat_name" value="">-->
  </form>
</div>




</div>


</body>
</html>




<script>
  //    $(":checkbox").click(function () {
  //        var level = $(this).attr('level');
  //        var prevs = $(this).prevAll(":checkbox");
  //        var nexts = $(this).nextAll(":checkbox");
  //
  //        if ($(this).attr("checked")) {   //已选中，取消选中
  //          $(this).removeAttr('checked');
  //            $(nexts).each(function (k, v) {
  //                if ($(v).attr('level') > level) {
  //                    $(v).removeAttr('checked');
  //                } else {
  //                    return false;
  //                }
  //            })
  //
  //
  //        }
  //        else { //未选中。   好奇怪，同行注释必须与代码空一格以上
  //            $(this).attr('checked','checked');
  //            var level_tmp = level;
  //            $(prevs).each(function (k, v) {
  //
  //                if ($(v).attr('level') < level_tmp) {
  //                    $(v).attr("checked", "checked");
  //                    level_tmp--;
  //                }
  //            });
  //
  //
  //            $(nexts).each(function (k, v) {
  //
  //                if ($(v).attr('level') > level) {
  //                    $(v).attr('checked', 'checked');
  //                } else {
  //                    return false;
  //                }
  //            });
  //
  //
  //        }
  //
  //
  //    });


</script>

